# Simple development Dockerfile
# 
# To run with proper network and environment:
# docker run --network dv --env-file .env -p 3000:3000 comuzi-app-dev
# 
# Or with docker-compose for easier management:
# docker-compose up dev
#
FROM node:20-alpine

# Set working directory
WORKDIR /app

# Copy package files
COPY package*.json ./

# Install dependencies
RUN npm install

# Copy source code
COPY . .

# Copy environment variables
COPY .env* ./

# Set environment to development
ENV NODE_ENV=development

# Expose port
EXPOSE 3000

# Start the application with nodemon (which now uses ts-node)
CMD ["npm", "run", "dev"]
